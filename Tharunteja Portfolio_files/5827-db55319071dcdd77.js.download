try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ecd0cffa-cd38-4c05-b245-b1e645b6f38f",e._sentryDebugIdIdentifier="sentry-dbid-ecd0cffa-cd38-4c05-b245-b1e645b6f38f")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5827],{5466:(e,t,a)=>{a.d(t,{t:()=>s});var r=a(28884);let s=()=>{let{settings:e,isLoading:t,error:a,refetchSettings:s}=(0,r.M)();return{reward_credit_config:e.reward_credit_config,invite_config:e.invite_config,settings:e,isLoading:t,error:a,refetchSettings:s,isSettingsReady:!t&&!a&&!!e}}},17023:(e,t,a)=>{a.d(t,{Z:()=>i,m:()=>o});var r=a(95155),s=a(12115),n=a(1021),l=a(60750),i=function(e){return e.Hover="hover",e.Click="click",e.None="none",e}({});let o=e=>{let{emoji:t,className:a,width:i=20,height:o=20,selected:c=!1,triggerType:d="hover",...x}=e,[u,p]=(0,s.useState)(!1),{getLottieData:f}=(0,l.k)(),[m,h]=(0,s.useState)(!1),g="".concat(null==t?void 0:t.interaction_type,"-").concat(i,"-").concat(o),v=()=>"none"!==d&&("hover"===d?u:"click"===d&&c);return(0,r.jsx)("div",{className:a,...x,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:(0,r.jsxs)("div",{style:{position:"relative",width:i,height:o},children:[v()&&t&&(0,r.jsx)(n.A,{loop:"click"!==d||!c,animationPath:t.lottie,animationData:f(t.lottie),className:"absolute top-0 left-0 h-full w-full",style:{position:"absolute",top:0,left:0,width:i,height:o,opacity:m&&v()?1:0,zIndex:1},onLoad:()=>h(!0)}),(0,r.jsx)("div",{style:{position:"absolute",top:0,left:0,width:i,height:o,opacity:m&&v()?0:1},children:(null==t?void 0:t.icon)?(0,r.jsx)("img",{src:t.icon,alt:(null==t?void 0:t.display_name)||"",width:i,height:o,style:{width:i,height:o}},g):null})]})})}},19496:(e,t,a)=>{a.d(t,{W:()=>c,Y:()=>d});var r=a(30832),s=a.n(r),n=a(96004),l=a.n(n),i=a(617),o=a.n(i);function c(e){let t=s()(e);return t.isToday()?t.format("HH:mm"):t.format("M/D")}function d(e,t){return e?new Date(1e3*e).toLocaleDateString("en-US",t||{month:"short",day:"numeric"}):""}s().extend(l()),s().extend(o())},25827:(e,t,a)=>{a.r(t),a.d(t,{default:()=>es});var r=a(95155),s=a(25427),n=a(48788),l=a(6874),i=a.n(l),o=a(35695),c=a(12115),d=a(53030),x=a(53568),u=a(62128),p=a(48436);let f=e=>{let{onSuccess:t,onError:a}=e,{loginWithGoogleOneTap:r,trackTriggerLogin:s,trackLoginResult:n}=(0,x.A)(),l=(0,c.useRef)(!1),i=(0,c.useRef)(0);(0,c.useEffect)(()=>{if(l.current)return;let e=()=>{if(!window.google){i.current<20?(i.current+=1,u.Ay.info("Google One Tap initialization attempt ".concat(i.current,"/").concat(20)),setTimeout(e,500)):u.Ay.error("Failed to initialize Google One Tap: Google script not loaded after maximum attempts");return}if(!l.current)try{window.google.accounts.id.initialize({client_id:"541265544701-ig5gkv7jg7a6od2rip81vpv99fej0oja.apps.googleusercontent.com",callback:o,auto_select:!1,cancel_on_tap_outside:!1,prompt_parent_id:"google-one-tap-container"}),window.google.accounts.id.prompt(e=>{u.Ay.info("Google One Tap prompt callback",{isNotDisplayed:e.isNotDisplayed(),isSkippedMoment:e.isSkippedMoment(),isDismissedMoment:e.isDismissedMoment(),momentType:e.getMomentType()}),e.isNotDisplayed()?u.Ay.info("Google One Tap not displayed",{reason:e.getMomentType()}):e.isSkippedMoment()?u.Ay.info("Google One Tap skipped",{reason:e.getMomentType()}):e.isDismissedMoment()&&u.Ay.info("Google One Tap dismissed",{reason:e.getMomentType()})}),l.current=!0,u.Ay.info("Google One Tap initialized successfully")}catch(e){u.Ay.error("Error initializing Google One Tap",e),null==a||a(e)}};return e(),()=>{var e,t,a;(null===(a=window.google)||void 0===a?void 0:null===(t=a.accounts)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.cancel)&&window.google.accounts.id.cancel()}},[t,a]);let o=async e=>{try{u.Ay.info("Google One Tap credential response received"),s("google_one_tap","home"),await r(e.credential),n("google_one_tap","success","home",""),null==t||t()}catch(e){u.Ay.error("Google One Tap login error",e),n("google_one_tap","failed","home",e.message||"unknown error"),(0,p.P)({message:"login failed, please try again later",type:"error"}),null==a||a(e)}};return null};var m=a(90239),h=a(66139),g=a(26846),v=a(70165);let b={setBannerCloseDateCookie:e=>{try{let t=new Date;t.setDate(t.getDate()+30),t.setHours(0,0,0,0),document.cookie="".concat(v.RE,"=").concat(e,"; expires=").concat(t.toUTCString(),"; path=/; SameSite=Lax")}catch(e){}},getBannerCloseDateCookieClient:()=>{try{let e=document.cookie.split(";").find(e=>e.trim().startsWith("".concat(v.RE,"=")));return null==e?void 0:e.split("=")[1]}catch(e){return}},showBanner:()=>{try{let e=b.getBannerCloseDateCookieClient();if(!e)return!0;let t=new Date().toISOString().split("T")[0];return e!==t}catch(e){return!1}},closeBanner:()=>{try{let e=new Date().toISOString().split("T")[0];b.setBannerCloseDateCookie(e)}catch(e){}}},j=e=>{let{showBanner:t=!0,onClose:a,initialBannerState:n}=e,[l,i]=(0,c.useState)(null!=n&&n),o=(0,m.I)(!1,1132);(0,c.useEffect)(()=>{void 0===n&&i(b.showBanner())},[n]);let d=e=>{e.stopPropagation(),e.preventDefault(),window.open("https://www.youware.com/project/retro-challenge-result-announcement-6zq5ronmy0","_blank")};return t&&l?(0,r.jsx)("div",{className:"fixed top-0 right-0 left-0 z-[40] flex h-[64px] items-center px-4 min-[840px]:h-[50px]",style:{backgroundImage:"url('/banner/retro-bg.png')",backgroundRepeat:"repeat-x",backgroundSize:"contain",backgroundColor:"#3E413C"},onClick:o?d:void 0,children:(0,r.jsxs)("div",{className:"z-10 flex flex-1 items-center justify-between min-[840px]:justify-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:"/banner/retro-logo.png",alt:"Retro Computer",className:"mr-3 flex-none",style:{width:"40px",height:"40px"}}),(0,r.jsx)("div",{className:"text-[14px] text-white min-[840px]:text-[16px]",children:(0,r.jsx)("span",{children:"YouWare Retro Challenge Results Are In. See Who Built the Coolest Retro Sites and Won Big!"})})]}),(0,r.jsxs)("div",{className:"ml-3 flex items-center",children:[!o&&(0,r.jsx)("img",{src:"/banner/retro-btn-result.png",alt:"Meet the Winners",className:"hidden h-[32px] w-[130px] hover:cursor-pointer hover:opacity-85 min-[840px]:block",onClick:d}),(0,r.jsx)(s.Qks,{className:"ml-1 h-5 w-5 text-white hover:cursor-pointer hover:opacity-85 min-[840px]:absolute min-[840px]:right-[22px]",onClick:e=>{e.stopPropagation(),e.preventDefault(),i(!1),b.closeBanner(),a&&a()}})]})]})}):null};var w=a(46102),y=a(34477);let _=(0,y.createServerReference)("00f3bc92f685a0f844c2d09a49c128dfdbbe4dca53",y.callServer,void 0,y.findSourceMapURL,"getUnreadCount"),k=(0,y.createServerReference)("00c129a22f40e70098856953d0c19e90c003042b7c",y.callServer,void 0,y.findSourceMapURL,"markAllAsRead");var N=a(65453);let S=(0,y.createServerReference)("008c3db277f84182a428d836117f844b916cad18d2",y.callServer,void 0,y.findSourceMapURL,"fetchDailyLoginReward"),C=()=>{let e=new Date,t=e.getUTCFullYear(),a=String(e.getUTCMonth()+1).padStart(2,"0"),r=String(e.getUTCDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(r)},A=e=>"daily_login_reward_last_clicked_".concat(e),R=(e,t)=>({checkShouldShowTips:e=>{if(!e)return!1;let t=C(),a=localStorage.getItem(A(e));return!a||a!==t},updateShouldShowDailyLoginReward:t=>{e({shouldShowDailyLoginReward:t})},handleDailyLoginRewardAction:async t=>{if(!t)throw Error("Not authenticated");try{let a=await S();if(0!==a.code)throw Error("Daily login reward failed with code: ".concat(a.code));let r=C();localStorage.setItem(A(t),r),e({shouldShowDailyLoginReward:!1})}catch(e){throw u.vF.error("Daily Login Reward Error",e),e}},initializeDailyLoginReward:a=>{e({shouldShowDailyLoginReward:t().checkShouldShowTips(a)})},resetDailyLoginReward:()=>{e({shouldShowDailyLoginReward:!1})}}),D={shouldShowDailyLoginReward:!1},T=(0,N.v)()((e,t,a)=>({...D,...R(e,t,a)})),E=()=>{let{user:e}=(0,x.A)(),{shouldShowDailyLoginReward:t,handleDailyLoginRewardAction:a,initializeDailyLoginReward:r,resetDailyLoginReward:s,checkShouldShowTips:n}=T();return(0,c.useEffect)(()=>{e?r(e.uid):s()},[e,r]),{shouldShowDailyLoginReward:t,handleDailyLoginReward:async()=>{if(!e)throw Error("Not authenticated");return await a(e.uid)},checkShouldShowDailyLoginReward:()=>!!e&&n(e.uid)}};var F=a(56389),I=a(71560);let M=(0,y.createServerReference)("4098bf77ecf0e98f35cdcf3d1f804470b881e2cedc",y.callServer,void 0,y.findSourceMapURL,"getNotifications");var L=a(68192),U=a(13960),z=a(5466);let B=()=>{let{shouldShowDailyLoginReward:e,handleDailyLoginReward:t}=E(),[a,n]=(0,c.useState)(!1),{track:l}=(0,F.s)(),{subscriptionInfo:i,getSubscriptionInfo:o}=(0,U.R)(),{reward_credit_config:d}=(0,z.t)(),x=async()=>{l("notification_daily_login_bonus_click",{credits_num:(null==i?void 0:i.total_credits)||0,credits_change:"+".concat(d.daily_login_reward)});try{n(!0),await t(),(0,p.P)({message:"Successfully received",type:"success"}),o()}catch(e){(0,p.P)({message:"Failed to receive, please try again later",type:"error"})}finally{n(!1)}};return((0,c.useEffect)(()=>{e&&l("notification_daily_login_bonus_show",{credits_num:(null==i?void 0:i.total_credits)||0})},[e,l]),e)?(0,r.jsxs)("div",{className:"my-2.5 flex flex-col items-end rounded-[12px] p-4",style:{backgroundImage:"url(/images/bg-pattern-light.svg)"},children:[(0,r.jsxs)("div",{className:"flex w-full items-start gap-3",children:[(0,r.jsx)(s.Djw,{className:"text-brand h-8 w-8"}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("div",{className:"text-base font-bold text-black/95",children:"Daily Login Bonus"}),(0,r.jsx)("div",{className:"text-xs text-black/65",children:"Welcome back! Todayâ€™s 100 credits are ready for you."})]})]}),(0,r.jsx)("button",{className:"bg-brand hover:bg-brand/90 flex h-8 w-28 cursor-pointer items-center justify-center rounded-[10px] text-sm",onClick:x,children:a?(0,r.jsx)(s.xNY,{className:"h-4 w-4 animate-spin text-white"}):(0,r.jsx)("span",{className:"text-sm text-white",children:"Claim now!"})})]}):null};var P=a(66766),O=a(68236),Y=a(17023),W=a(78161),G=a(60750),H=a(19496);let Q=e=>{var t,a,n,l,i,o,d,u;let{notification:p,index:f,enter_from:m}=e,{emojis:h}=(0,G.k)(),{track:v}=(0,F.s)(),{user:b}=(0,x.A)(),j="official"===p.type,w=null===(t=p.comment_params)||void 0===t?void 0:t.reply_user,[y,_]=(0,c.useState)(!1),k=(0,c.useRef)(null);(0,c.useEffect)(()=>{if(y||!k.current)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&!y){var t,a;v("notification_message_show",{notification_id:p.id,notification_type:p.type,project_id:null===(t=p.project)||void 0===t?void 0:t.project_id,project_url:null===(a=p.project)||void 0===a?void 0:a.project_url,index:f+1,is_read:p.is_read,enter_from:m}),_(!0)}})},{threshold:.5});return e.observe(k.current),()=>e.disconnect()},[y,p.id,p.type,null===(a=p.user)||void 0===a?void 0:a.uid,v]);let N=()=>{var e,t;return{notification_id:p.id,notification_type:p.type,project_id:null===(e=p.project)||void 0===e?void 0:e.project_id,project_url:null===(t=p.project)||void 0===t?void 0:t.project_url,index:f+1,is_read:p.is_read}},S=e=>{e.stopPropagation(),window.open("/profile/".concat(p.user.uid,"?enter_from=notification_center"),"_blank"),v("notification_user_profile_click",{...N(),user_profile_url:"/user/".concat(p.user.uid)})},C=null!==(u=null!==(d=null===(n=p.project)||void 0===n?void 0:n.custom_cover_url)&&void 0!==d?d:null===(l=p.project)||void 0===l?void 0:l.cover_url)&&void 0!==u?u:"";return(0,r.jsxs)("div",{ref:k,className:"group flex w-full cursor-pointer items-start overflow-visible rounded-[12px] p-1.5 transition-all hover:bg-[#F7F7F7]",onClick:()=>{if(p.cta_info&&"url"===p.cta_info.type&&p.cta_info.jump_url){window.open(p.cta_info.jump_url,"_blank"),v("notification_message_click",{...N()});return}if(p.project){var e;let t=p.project.project_url,a="".concat(t,"?enter_from=notification_center").concat("comment"===p.type?"&comment_id=".concat(null===(e=p.comment_params)||void 0===e?void 0:e.comment_id):"");window.open(a,"_blank"),v("notification_message_click",{...N()})}},children:[(0,r.jsxs)("div",{className:(0,g.cn)("group/user relative box-content h-[30px] w-[30px] flex-shrink-0 overflow-visible rounded-full border border-black/3",j?"":"cursor-pointer"),onClick:j?void 0:S,children:[j?(0,r.jsx)("img",{src:"/icons/logo-with-bg.svg",alt:"",className:"h-full w-full rounded-full"}):(0,r.jsx)("img",{src:(null===(i=p.user)||void 0===i?void 0:i.photo_url)||"/images/avatar.svg",alt:"",className:"h-full w-full rounded-full"}),j?null:(0,r.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/12 opacity-0 transition-all group-hover/user:opacity-100"}),j?null:(0,r.jsxs)("div",{className:"absolute top-[14px] left-[18px] flex h-[22px] w-[22px] items-center justify-center rounded-full bg-white group-hover:bg-[#F7F7F7]",children:["remix"===p.type&&(0,r.jsx)(s.xP3,{className:"h-3 w-3"}),"favorite"===p.type&&(0,r.jsx)(s.YSf,{className:"h-3 w-3"}),"emoji_reaction"===p.type&&(0,r.jsx)(P.default,{className:"h-[10px] w-[18px]",src:O.A,alt:""}),"comment"===p.type&&(0,r.jsx)(s.Z0O,{className:"h-3 w-3"})]})]}),(0,r.jsxs)("div",{className:"mr-2 ml-3 flex flex-1 flex-shrink-1 flex-col justify-between overflow-x-auto",children:[(0,r.jsx)("div",{className:(0,g.cn)("flex items-center self-start text-[14px]",j?"":"cursor-pointer hover:underline"),onClick:j?void 0:S,children:(0,r.jsx)("div",{children:j?"YouWare Team":p.user.display_name})}),(0,r.jsx)("div",{className:"no-scrollbar mt-0.5 mb-2 text-[12px] text-black/65",children:j?(0,r.jsx)("span",{className:"flex-shrink-0",children:p.content}):"remix"===p.type?(0,r.jsx)("span",{className:"flex-shrink-0",children:"Remixed your project"}):"favorite"===p.type?(0,r.jsx)("span",{className:"flex-shrink-0",children:"Saved your project"}):"emoji_reaction"===p.type?(0,r.jsxs)("div",{className:"flex flex-shrink-1 items-center overflow-x-auto",children:[(0,r.jsx)("span",{className:"mr-[3px] flex-shrink-0",children:"Reacted:"}),(0,r.jsx)("div",{className:"no-scrollbar flex flex-shrink-1 items-center gap-0.5 overflow-scroll",children:null===(o=p.emojis)||void 0===o?void 0:o.map(e=>(0,r.jsx)(Y.m,{emoji:h.find(t=>t.interaction_type===e),width:12,height:12},e))})]}):"comment"===p.type?(0,r.jsxs)("div",{className:"line-clamp-3 flex-shrink-0",children:[w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Reply to "}),w.uid===(null==b?void 0:b.uid)?(0,r.jsx)("span",{children:"you"}):(0,r.jsx)("span",{className:"font-bold text-black/95 hover:underline",onClick:e=>{e.stopPropagation(),w&&(window.open("/profile/".concat(w.uid,"?enter_from=notification_center"),"_blank"),v("notification_user_profile_click",{...N(),reply_user_url:"/user/".concat(w.uid)}))},children:w.display_name})]}):(0,r.jsx)("span",{children:"Comment"}),(0,r.jsx)("span",{children:": "}),p.content]}):null}),(0,r.jsx)("div",{className:"text-[12px] text-black/30",children:(0,r.jsx)("span",{children:(0,H.W)(p.timestamp)})})]}),j&&!p.project?null:(0,r.jsxs)("div",{className:"group/project relative h-12 w-12 flex-shrink-0 overflow-hidden rounded-[8px] border border-black/3",children:[C&&!C.includes("placehold.co")?(0,r.jsx)(W.A,{url:C,className:"h-12 w-12 object-cover"}):(0,r.jsx)("div",{className:"h-12 w-12 bg-black/6"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-black/12 opacity-0 transition-all group-hover/project:opacity-100"})]})]})},V=e=>{let{onNotificationTipsAction:t}=e,{shouldShowNotificationTips:a}=(0,L.e6)(),[s,n]=(0,c.useState)(!1),{track:l}=(0,F.s)(),i=e=>{n(!1),t("allow"===e),l("browser_notification_auth_guide_click",{location:"notification_message",result:e})};return((0,c.useEffect)(()=>{a()&&(l("browser_notification_auth_guide_show",{enter_from:"notification_message"}),n(!0))},[a]),s)?(0,r.jsxs)("div",{className:"my-2.5 flex flex-col gap-3 rounded-[12px] bg-black/3 px-[14px] py-[14px]",children:[(0,r.jsx)("div",{className:"text-[14px] text-black/95",children:"Turn on browser notifications to stay updated on all community interactions."}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-4",children:[(0,r.jsx)("div",{className:"cursor-pointer text-[14px] font-bold text-black/65",onClick:()=>i("not_now"),children:"Not now"}),(0,r.jsx)("div",{className:"cursor-pointer text-[14px] font-bold text-[#0077FF]",onClick:()=>i("allow"),children:"Enable"})]})]}):null};function Z(e){let{onClose:t,hasBanner:a=!1,enter_from:n}=e,[l,i]=(0,c.useState)([]),[o,d]=(0,c.useState)(!0),[x,p]=(0,c.useState)(!1),[f,m]=(0,c.useState)(void 0),[h,v]=(0,c.useState)(!1),[b,j]=(0,c.useState)(!1),w=(0,c.useRef)(null),y=(0,c.useRef)(null),_=(0,c.useRef)(null),k=(0,c.useRef)(null),{track:N}=(0,F.s)(),{handleNotificationTipsAction:S,requestPermission:C,shouldShowNotificationTips:A}=(0,L.e6)(),{shouldShowDailyLoginReward:R}=E();(0,c.useEffect)(()=>{T()},[]);let D=()=>{A()&&N("browser_notification_auth_guide_click",{location:"notification_message",result:"ignore"}),t()},T=async()=>{try{d(!0),v(!1);let a=await M({cursor:null!=f?f:"",page_size:12});if(0===a.code&&a.data){var e,t;i(e=>{var t;return[...e,...(null===(t=a.data)||void 0===t?void 0:t.notifications)||[]]}),p((null===(e=a.data)||void 0===e?void 0:e.page_info.has_more)||!1),m((null===(t=a.data)||void 0===t?void 0:t.page_info.next_cursor)||void 0)}else u.vF.error("Failed to fetch notifications: ",void 0,a),v(!0)}catch(e){u.vF.error("Failed to fetch notifications:",e),v(!0)}finally{d(!1)}};(0,c.useEffect)(()=>{if(y.current&&y.current.disconnect(),!_.current||!x||h)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&!o&&x&&!h&&T()},{root:k.current,rootMargin:"300px",threshold:.2});return e.observe(_.current),y.current=e,()=>{y.current&&y.current.disconnect()}},[o,x,h]);let I=()=>{T()};return(0,r.jsxs)("div",{className:(0,g.cn)("z-10 flex flex-col items-stretch rounded-[16px] border border-black/3 bg-white shadow-[0px_16px_32px_-1px_rgba(0,0,0,0.1)]","absolute top-8 -right-12 m-1 w-[400px]","max-sm:fixed max-sm:right-0 max-sm:bottom-0 max-sm:left-0 max-sm:m-0 max-sm:w-screen max-sm:rounded-b-none",a?"max-sm:top-28":"max-sm:top-12"),children:[(0,r.jsx)("div",{ref:w,className:"fixed top-0 left-0 -z-1 h-full w-full",onClick:e=>{e.target===w.current&&(e.stopPropagation(),e.preventDefault(),D())}}),(0,r.jsxs)("div",{className:"mx-5 mt-4 mb-2 flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-[16px] font-bold",children:"Notification"}),(0,r.jsx)(s.Qks,{className:"hover:text-brand h-4 w-4 cursor-pointer",onClick:D})]}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"px-2.5",children:R?(0,r.jsx)(B,{}):(0,r.jsx)(V,{onNotificationTipsAction:e=>{e?C():S()}})}),0===l.length?(0,r.jsx)("div",{className:"mb-2 flex h-36 w-full max-w-full items-center justify-center px-5",children:o?(0,r.jsx)(s.xNY,{className:"h-6 w-6 animate-spin text-black/65"}):h?(0,r.jsxs)("button",{onClick:I,className:"border-brand hover:bg-brand/10 flex cursor-pointer items-center gap-2 rounded-[8px] border px-2 py-1 text-[14px]",children:[(0,r.jsx)(s.Ll9,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Retry"})]}):(0,r.jsx)("p",{className:"text-[12px] text-black/66",children:"You don't have any notifications."})}):(0,r.jsx)("div",{ref:k,className:(0,g.cn)("mb-2 w-full max-w-full flex-1 space-y-1 overflow-y-scroll overscroll-contain px-2.5 sm:max-h-[min(600px,calc(100vh-240px))]",b&&"border-t border-black/6"),onScroll:()=>{k.current&&j(k.current.scrollTop>0)},children:(0,r.jsxs)(r.Fragment,{children:[l.map((e,t)=>(0,r.jsxs)(c.Fragment,{children:[t>0&&e.is_read&&!l[t-1].is_read&&(0,r.jsx)("div",{className:"p-2 pt-3 text-[12px] text-black/65",children:"Earlier"},"divider-".concat(t)),(0,r.jsx)(Q,{index:t,notification:e,enter_from:n},e.id)]},e.id)),x&&(0,r.jsx)("div",{ref:_,className:"flex items-center justify-center py-4",children:o?(0,r.jsx)(s.xNY,{className:"h-6 w-6 animate-spin text-black/65"}):h?(0,r.jsxs)("button",{onClick:I,className:"border-brand hover:bg-brand/10 flex cursor-pointer items-center gap-2 rounded-[8px] border px-2 py-1 text-[14px]",children:[(0,r.jsx)(s.Ll9,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Load more"})]}):(0,r.jsx)("div",{className:"h-4 w-full"})})]})})]})]})}function K(e){let{hasBanner:t=!1,defaultOpen:a=!1,enter_from:n}=e,[l,i]=(0,c.useState)(a),[d,p]=(0,c.useState)(0),{track:f}=(0,F.s)(),{user:m}=(0,x.A)(),v=(0,o.useRouter)(),{checkShouldShowDailyLoginReward:b}=E();(0,c.useEffect)(()=>{m&&setTimeout(()=>{j()},200)},[m]);let j=async()=>{try{var e;let t=await _();if("number"==typeof(null===(e=t.data)||void 0===e?void 0:e.unread_count)){let e=t.data.last_read_time,a=b(),r=e&&(0,I.c)(e),s=t.data.unread_count+(a&&!r?1:0);p(s),f("notification_entrance_show",{unread_message_num:s})}}catch(e){u.vF.error("Failed to fetch notification count:",e)}},y=async()=>{if(i(!1),d){p(0);try{await k()}catch(e){u.vF.error("Failed to mark all notifications as read:",e)}}};return(0,r.jsxs)("div",{className:"relative ml-2",children:[(0,r.jsxs)(w.m_,{open:!l&&void 0,children:[(0,r.jsx)(w.k$,{asChild:!0,children:(0,r.jsxs)("button",{className:(0,g.cn)("cursor-pointer rounded-[10px] p-2 transition-all hover:bg-black/3",l&&"bg-black/3"),onClick:()=>{if(!m){let e=(0,h.$)(!0);v.push("".concat(e,"/login?returnTo=").concat(encodeURIComponent(window.location.pathname+window.location.search)));return}i(!0),f("notification_entrance_click",{unread_message_num:d})},"aria-label":"Notifications",children:[(0,r.jsx)(s.Biv,{size:16,className:"cursor-pointer text-black/95"}),d>0&&(0,r.jsx)("div",{className:"absolute top-[6px] right-[5px] h-[11px] rounded-full bg-[#D42727] px-1 text-[8px] leading-[11px] text-white",children:d>99?"99+":d})]})}),(0,r.jsx)(w.ZI,{children:"Notification"})]}),l&&(0,r.jsx)(Z,{hasBanner:t,onClose:y,enter_from:n})]})}var J=a(11518),X=a.n(J),$=a(57798),q=a(1021);let ee=(0,y.createServerReference)("0024c69ae0faea90045fab0451d0dc502e522381e1",y.callServer,void 0,y.findSourceMapURL,"fetchInviteInfo"),et=()=>{let[e,t]=(0,c.useState)(!1),[a,r]=(0,c.useState)(null),[s,n]=(0,c.useState)(!1),[l,i]=(0,c.useState)(null),o=async()=>{t(!0),a||await d()},d=async()=>{try{n(!0),i(null);let e=await ee();0===e.code&&e.data?r(e.data):i(e.message||"Failed to fetch invite info")}catch(e){i(e instanceof Error?e.message:"Failed to fetch invite info")}finally{n(!1)}};return{isOpen:e,inviteInfo:a,loading:s,error:l,openInviteModal:o,closeInviteModal:()=>{t(!1),i(null)},fetchInviteInfo:d,retryFetchInviteInfo:()=>{d()}}},ea=e=>{var t,a,n;let{onClose:l}=e,{fetchInviteInfo:i,inviteInfo:o,loading:d,error:x}=et(),{subscriptionInfo:u}=(0,U.R)(),{track:f}=(0,F.s)(),{reward_credit_config:m}=(0,z.t)();(0,c.useEffect)(()=>{i()},[]);let g=(0,c.useMemo)(()=>(null==o?void 0:o.invite_code)?"".concat((0,h.$)(),"/invite/").concat(o.invite_code):"",[null==o?void 0:o.invite_code]),v=async()=>{f("invite_copy_link_click",{credits_num:(null==u?void 0:u.total_credits)||0,monthly_invites:(null==o?void 0:o.monthly_invited_count)||0});try{await navigator.clipboard.writeText(g),(0,p.P)({message:"Link copied to clipboard",type:"success"})}catch(e){(0,p.P)({message:"Failed to copy link, please try again",type:"error"})}};return d?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",children:(0,r.jsx)("div",{className:"relative flex h-[298px] w-[480px] flex-col items-center justify-center gap-5 rounded-2xl bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:(0,r.jsx)(q.A,{animationPath:"/animations/lottie-task-loading.json",className:"h-20 w-20"})})}):x||(null==o?void 0:o.invite_code)===null?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",children:(0,r.jsxs)("div",{className:"relative flex h-[298px] w-[480px] flex-col items-center justify-center gap-5 rounded-2xl bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:[(0,r.jsx)("button",{onClick:l,className:"absolute top-3 right-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-[8px] p-1 transition-colors hover:bg-black/3",children:(0,r.jsx)(s.Qks,{className:"h-4 w-4"})}),(0,r.jsx)("p",{className:"text-sm text-black/95",children:"Failed to get invite link"}),(0,r.jsx)("button",{onClick:i,className:"bg-brand h-9 flex-shrink-0 cursor-pointer rounded-[10px] px-3 text-sm text-white",children:"Retry"})]})}):(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20",children:(0,r.jsxs)("div",{className:"relative flex h-[312px] w-[480px] flex-col gap-5 rounded-2xl bg-white p-5 shadow-[0px_16px_48px_1px_rgba(0,0,0,0.2)]",children:[(0,r.jsx)("button",{onClick:l,className:"absolute top-3 right-3 flex h-6 w-6 cursor-pointer items-center justify-center rounded-[8px] p-1 transition-colors hover:bg-black/3",children:(0,r.jsx)(s.Qks,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 py-3 text-center",children:[(0,r.jsx)(s.Bik,{className:"text-brand h-12 w-12"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-black/95",children:"Invite to get credits"}),(0,r.jsxs)("p",{className:"text-sm text-black/65",children:["Share your invitation link, get"," ",(0,r.jsxs)("span",{className:"font-bold text-black/95",children:[m.invite_reward," free credits"]})," for every friend who signs up."]})]}),(0,r.jsxs)("div",{className:"rounded-lg bg-black/3 px-[6px] py-1 text-xs font-bold text-black/30",children:["Monthly invites: ",Math.min(null!==(t=null==o?void 0:o.monthly_invited_count)&&void 0!==t?t:0,null!==(a=null==o?void 0:o.monthly_invite_limit)&&void 0!==a?a:10),"/",null!==(n=null==o?void 0:o.monthly_invite_limit)&&void 0!==n?n:10]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsx)("h3",{className:"text-xs font-bold text-black/95",children:"Share your invitation link"}),(0,r.jsxs)("div",{className:"flex gap-2 text-black/95",children:[(0,r.jsxs)("div",{className:"flex h-9 min-w-0 flex-1 items-center gap-2 rounded-[10px] border border-black/6 px-3",children:[(0,r.jsx)(s.Y$G,{className:"h-4 w-4 flex-shrink-0"}),(0,r.jsx)("div",{className:"min-w-0 flex-1 truncate text-sm",children:g})]}),(0,r.jsx)("button",{onClick:v,className:"bg-brand hover:bg-brand/90 h-9 flex-shrink-0 cursor-pointer rounded-[10px] px-3 text-sm text-white",children:"Copy link"})]})]})]})})},er=()=>{let{user:e,logout:t}=(0,x.A)(),[a,n]=(0,c.useState)(!1),l=(0,c.useRef)(null),i=(0,o.useRouter)(),[d,u]=(0,c.useState)(""),{track:f}=(0,F.s)(),h=(0,c.useRef)(null),{isOpen:v,openInviteModal:b,closeInviteModal:j}=et(),[w,y]=(0,c.useState)(!1),{subscriptionInfo:_}=(0,U.R)(),k=(0,m.I)(!1,1200),N=(0,c.useMemo)(()=>(null==_?void 0:_.plan)==="Pro",[null==_?void 0:_.plan]);(0,c.useEffect)(()=>{u(window.location.pathname)},[]),(0,c.useEffect)(()=>{let e=e=>{l.current&&!l.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let S=async()=>{try{await t(),i.push("/home")}catch(e){(0,p.P)({message:"Failed to logout, please try again later",type:"error"})}n(!1)},C=()=>{(null==e?void 0:e.uid)&&i.push("/profile/".concat(e.uid))},A=()=>{f("invite_entrance_click",{credits_num:(null==_?void 0:_.total_credits)||0}),b()},R=t=>{(null==e?void 0:e.uid)&&(f("sub_upgrade_click",{click_from:t}),window.open("/subscription","_blank"))};return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,g.cn)("bg-brand mr-3 box-content flex h-8 cursor-pointer items-center rounded-[10px] text-[14px] text-white",_?N?"gap-[6px] pr-2.5 pl-2 font-bold":"px-2.5":"min-w-[50px] animate-pulse"),onClick:()=>R("header"),children:[N&&(0,r.jsx)(s.xsv,{className:"h-[14px] w-[14px]"}),(0,r.jsx)("span",{children:_?N?"Pro":"Upgrade":""})]}),(0,r.jsxs)("div",{ref:l,onMouseEnter:()=>{h.current&&(clearTimeout(h.current),h.current=null),n(!0)},onMouseLeave:()=>{h.current=setTimeout(()=>{n(!1)},300)},onClick:()=>{k?n(!0):C()},className:"jsx-29af56ad2ef10cea "+"relative cursor-pointer rounded-full p-1 ".concat(a&&"bg-black/6"),children:[(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea flex cursor-pointer items-center",children:(0,r.jsx)("div",{"aria-label":"Go to profile",className:"jsx-29af56ad2ef10cea "+"rounded-full bg-black/6 transition-transform focus:outline-none ".concat(d==="/profile/".concat(e.uid)&&"ring ring-black ring-offset-2"),children:(0,r.jsx)("img",{src:e.photo_url||"/images/avatar.svg",alt:"User avatar",className:"jsx-29af56ad2ef10cea h-7.5 w-7.5 overflow-hidden rounded-full object-cover"})})}),a&&(0,r.jsxs)("div",{style:{animation:"fadeIn 0.2s ease-out"},className:"jsx-29af56ad2ef10cea absolute top-10 right-0 z-10 w-[260px] rounded-[16px] border border-black/3 bg-white p-2 shadow-[0px_16px_32px_-1px_rgba(0,0,0,0.15)]",children:[(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea flex cursor-auto flex-row items-center gap-3 p-2",children:[(0,r.jsx)("div",{onClick:C,className:"jsx-29af56ad2ef10cea h-11 w-11 flex-shrink-0 cursor-pointer overflow-hidden rounded-full bg-black/6",children:(0,r.jsx)("img",{src:e.photo_url||"/images/avatar.svg",alt:"User avatar",className:"jsx-29af56ad2ef10cea h-11 w-11 rounded-full object-cover"})}),(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea flex-1 space-y-0.5 overflow-hidden",children:[(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea truncate text-[20px] font-bold",children:e.display_name||"User"}),(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea truncate text-[12px] text-black/65",children:e.email})]})]}),(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea my-2 flex cursor-auto items-center gap-2 rounded-[12px] bg-black/3 p-2 pl-3",children:[(0,r.jsx)("p",{className:"jsx-29af56ad2ef10cea flex-1 text-[16px] font-bold",children:N?"Pro":"Free"}),(0,r.jsx)("button",{onClick:()=>R("avatar_hover_profile"),className:"jsx-29af56ad2ef10cea bg-brand hover:bg-brand/90 flex h-7 cursor-pointer items-center justify-center rounded-[8px] px-2 text-[14px] text-white transition-colors",children:N?"View plans":"Upgrade"})]}),(0,r.jsxs)("div",{className:"jsx-29af56ad2ef10cea flex flex-col items-stretch gap-1",children:[(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),y(!0)},className:"jsx-29af56ad2ef10cea flex h-10 cursor-pointer items-center gap-2 rounded-[12px] px-2.5 hover:bg-black/3",children:[(0,r.jsx)(s.Djw,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea flex-1 text-left text-[14px]",children:"Credits"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea translate-x-1.5 text-[14px] font-bold text-black/65",children:"number"==typeof(null==_?void 0:_.total_credits)?_.total_credits.toLocaleString():""}),(0,r.jsx)(s.ye6,{className:"h-4 w-4 text-black/65"})]}),(0,r.jsxs)("button",{onClick:e=>{e.stopPropagation(),A()},className:"jsx-29af56ad2ef10cea flex h-10 cursor-pointer items-center gap-2 rounded-[12px] px-2.5 hover:bg-black/3",children:[(0,r.jsx)(s.Bik,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea flex-1 text-left text-[14px]",children:"Invite friend"}),(0,r.jsx)(s.ye6,{className:"h-4 w-4 text-black/65"})]}),(0,r.jsxs)("button",{onClick:C,className:"jsx-29af56ad2ef10cea flex h-10 cursor-pointer items-center gap-2 rounded-[12px] px-2.5 hover:bg-black/3",children:[(0,r.jsx)(s.IuU,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea flex-1 text-left text-[14px]",children:"Profile"})]}),(0,r.jsx)("div",{className:"jsx-29af56ad2ef10cea mx-2 h-px bg-black/6"}),(0,r.jsxs)("button",{onClick:S,className:"jsx-29af56ad2ef10cea flex h-10 cursor-pointer items-center gap-2 rounded-[12px] px-2.5 hover:bg-black/3",children:[(0,r.jsx)(s.jfQ,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"jsx-29af56ad2ef10cea flex-1 text-left text-[14px]",children:"Logout"})]})]})]}),(0,r.jsx)(X(),{id:"29af56ad2ef10cea",children:"@-webkit-keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeIn{from{opacity:0;-moz-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeIn{from{opacity:0;-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeIn{from{opacity:0;-webkit-transform:translatey(-10px);-moz-transform:translatey(-10px);-o-transform:translatey(-10px);transform:translatey(-10px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}"})]}),v&&(0,r.jsx)(ea,{onClose:j}),w&&(0,r.jsx)($.I,{subscription:_,position:"header_profile",onClose:()=>y(!1)})]}):null},es=e=>{let{showBanner:t=!1,hideRight:a=!1,initialMobile:l,initialBannerVisible:p,initialNotificationOpen:v,enter_from:w}=e,{user:y}=(0,x.A)(),_=(0,o.usePathname)(),k=(0,o.useRouter)(),[N,S]=(0,c.useState)("/"),[C,A]=(0,c.useState)(null!=p&&p),[R,D]=(0,c.useState)(!1),T=(0,m.I)(l||!1,768);(0,c.useEffect)(()=>{location.origin.includes(".app")&&S((0,h.$)())},[]),(0,c.useEffect)(()=>{void 0===p&&A(b.showBanner())},[p]);let E=t&&C,F=!y&&("/home"===_||"/"===_);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,{showBanner:E,onClose:()=>{A(!1)},initialBannerState:p}),F&&(0,r.jsx)(f,{onSuccess:()=>{k.refresh()},onError:e=>{u.Ay.error("Google One Tap error:",e)}}),(0,r.jsx)("header",{className:"h-14 w-full",children:(0,r.jsxs)("div",{className:"bg-body fixed right-0 left-0 z-50 flex h-14 w-full items-center justify-between px-4 transition-all duration-300 ".concat(E?"top-[64px] min-[840px]:top-[50px]":"top-0"),children:[(0,r.jsx)(i(),{href:N,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.A,{className:"text-brand h-6 w-6"}),(0,r.jsx)("div",{className:"mt-[3px] text-base text-black/95 lg:text-xl xl:text-[20px] ".concat(!a&&"max-[400px]:hidden"),children:"YouWare"})]})}),!a&&(0,r.jsxs)("div",{className:"flex items-center",children:[!T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{href:"/blog",className:(0,g.cn)("ml-2 cursor-pointer rounded-[10px] px-3 py-2 text-[14px] transition-all hover:bg-black/6",_.startsWith("/blog")&&"font-bold"),children:"Academy"}),(0,r.jsx)(i(),{href:"/affiliate",className:(0,g.cn)("ml-2 cursor-pointer rounded-[10px] px-3 py-2 text-[14px] transition-all hover:bg-black/6",_.startsWith("/affiliate")&&"font-bold"),children:"Affiliate"}),(0,r.jsx)(i(),{href:"https://discord.gg/6fBAZ2tzfK",target:"_blank",className:"ml-2 cursor-pointer rounded-[10px] px-3 py-2 text-[14px] transition-all hover:bg-black/6",children:"Discord"})]}),(0,r.jsx)(K,{hasBanner:E,defaultOpen:v,enter_from:w}),(0,r.jsx)("div",{className:"ml-3 h-[12px] w-[0px] bg-black/12"}),y?(0,r.jsx)(er,{}):(0,r.jsx)(i(),{href:(0,h.$)(!0)+"/login",className:"bg-brand h-8 rounded-[10px] px-2.5 text-[14px] leading-8 text-white",children:"Sign in"}),T&&(0,r.jsxs)(d.rI,{triggerType:"hover",onOpenChange:e=>{D(e)},children:[(0,r.jsx)(d.ty,{className:(0,g.cn)("ml-2 rounded-[10px] p-2 hover:bg-black/6",R&&"bg-black/6 hover:bg-black/6"),children:(0,r.jsx)(s.tOc,{size:18,className:"text-black/95"})}),(0,r.jsxs)(d.SQ,{className:"right-0 mt-2 w-36",children:[(0,r.jsx)(d._2,{icon:s.L4U,label:"Academy",onClick:()=>k.push("/blog")}),(0,r.jsx)(d._2,{icon:s.C_5,label:"Affiliate",onClick:()=>k.push("/affiliate")}),(0,r.jsx)(d._2,{icon:s.cyn,label:"Community",onClick:()=>{window.open("https://discord.gg/6fBAZ2tzfK","_blank")}})]})]})]})]})})]})}},57798:(e,t,a)=>{a.d(t,{I:()=>p});var r=a(95155),s=a(25427),n=a(35695),l=a(12115),i=a(34477);let o=(0,i.createServerReference)("40bd5072ed66261eb7cc364b4d7635472760c4a287",i.callServer,void 0,i.findSourceMapURL,"fetchCreditUsage");var c=a(1021),d=a(56389),x=a(19496),u=a(26846);function p(e){let{subscription:t,position:a,onClose:i}=e,p=(0,n.usePathname)(),[f,m]=(0,l.useState)([]),[h,g]=(0,l.useState)(!1),[v,b]=(0,l.useState)(""),[j,w]=(0,l.useState)(!1),y=(0,l.useRef)(null),{track:_}=(0,d.s)();(0,l.useEffect)(()=>{_("credits_usage_pop_up_show",{enter_from:a,credits_num:(null==t?void 0:t.total_credits)||0})},[a,t]),(0,l.useEffect)(()=>{k()},[]);let k=(0,l.useCallback)(async()=>{if(!h){g(!0);try{let a=await o({limit:20,cursor:v});if(0===a.code&&a.data){var e,t;console.log("========= response.data",a.data);let r=a.data.records||[];m(e=>[...e,...r]),b((null===(e=a.data.page_info)||void 0===e?void 0:e.next_cursor)||""),w((null===(t=a.data.page_info)||void 0===t?void 0:t.has_more)||!1)}}catch(e){console.error("Failed to load credit usage:",e)}finally{g(!1)}}},[h,v]),N=(0,l.useCallback)(()=>{f.length>0&&j&&!h&&v&&k()},[f.length,j,h,v]),S=(0,l.useCallback)(()=>{let e=y.current;if(!e)return;let{scrollTop:t,scrollHeight:a,clientHeight:r}=e;a-t-r<100&&N()},[N]);return(0,l.useEffect)(()=>{let e=y.current;if(e)return e.addEventListener("scroll",S),()=>e.removeEventListener("scroll",S)},[S]),(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/12",children:(0,r.jsxs)("div",{className:"relative flex h-[600px] w-full max-w-[640px] flex-col rounded-[16px] border border-black/3 bg-white p-5 pb-0 shadow-[0px_16px_32px_-1px_rgba(0,0,0,0.1)]",children:[(0,r.jsxs)("div",{className:"flex flex-shrink-0 items-start justify-center gap-2",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h2",{className:"text-[20px] font-bold",children:"Credits usage"}),(0,r.jsx)("div",{className:"text-[12px] text-black/45",children:"Micro-spends (<1 credit) are not shown."})]}),(0,r.jsx)("button",{onClick:i,className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded-[8px] p-1 transition-colors hover:bg-black/3",children:(0,r.jsx)(s.Qks,{className:"h-4 w-4"})})]}),(0,r.jsxs)("div",{className:"my-3 flex h-12 w-full flex-shrink-0 items-center gap-2 rounded-[10px] border border-black/6 bg-black/3 pr-2 pl-3",children:[(0,r.jsx)(s.IId,{className:"text-brand h-5 w-5"}),(0,r.jsxs)("div",{className:"flex-1 text-[16px] font-bold",children:[((null==t?void 0:t.total_credits)||0).toLocaleString()," Credits"]}),!p.startsWith("/subscription")&&(0,r.jsx)("button",{className:"bg-brand hover:bg-brand/90 flex h-8 cursor-pointer items-center justify-center rounded-[10px] px-[10px] text-[14px] text-white transition-colors",onClick:()=>{_("sub_upgrade_click",{click_from:"credits_usage"}),window.open("/subscription","_blank")},children:(null==t?void 0:t.is_vip)?"View plans":"Upgrade"})]}),(0,r.jsxs)("div",{className:"mb-[38px] flex w-full flex-1 flex-col overflow-hidden rounded-[10px] border border-black/6",children:[(0,r.jsxs)("div",{className:"thin-scrollbar flex items-center gap-5 overflow-y-auto border-b border-black/6 bg-[#F7F7F7] px-3 py-2.5 text-[12px] text-black/45",children:[(0,r.jsx)("div",{className:"w-25",children:"Date"}),(0,r.jsx)("div",{className:"flex-1",children:"Details"}),(0,r.jsx)("div",{className:"w-25",children:"Credits change"})]}),(0,r.jsx)("div",{ref:y,className:"thin-scrollbar flex-1 overflow-y-auto",children:0===f.length?(0,r.jsx)("div",{className:"flex h-96 items-center justify-center text-[12px] text-black/65",children:h?(0,r.jsx)(c.A,{animationPath:"/animations/lottie-task-loading.json",className:"h-20 w-20"}):"No credit usage records found"}):(0,r.jsxs)(r.Fragment,{children:[f.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center gap-5 border-b border-black/3 px-3 py-2.5 text-[12px]",children:[(0,r.jsx)("div",{className:"w-25",children:(0,x.Y)(e.date_timestamp)}),(0,r.jsx)("div",{className:(0,u.cn)("flex-1 truncate",e.project_id||e.project_url?"cursor-pointer hover:underline":""),onClick:()=>{(e.project_id||e.project_url)&&window.open(e.project_url||"/editor/".concat(e.project_id),"_blank")},children:e.description}),(0,r.jsxs)("div",{className:"w-25",children:["consumption"===e.transaction_type?"-":"+",e.credit_cost]})]},t)),h&&f.length>0&&(0,r.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,r.jsx)("div",{className:"text-[12px] text-black/45",children:"Loading more..."})})]})})]}),(0,r.jsx)("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2",children:(0,r.jsx)("button",{className:"cursor-pointer text-[12px] text-black/65 transition-colors hover:text-black/95 hover:underline",onClick:()=>{window.open("/legal/credits","_blank")},children:"How credits work"})})]})})}},68236:(e,t,a)=>{a.d(t,{A:()=>r});let r={src:"/_next/static/media/reaction-icon.de690e61.png",height:1080,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAV1BMVEX2tyP90kr3zyr/vyjpuSr3xyHwuiP2sR/VuihMaXH2yyiflmT+iS5Vqcv1eDmLvI/zcRbSkC3GnDT/0iniph7wVDfoqRz5uy3/1y//20HguiX3zC3ewCv3RSxyAAAAGHRSTlM3lvxY0SKpZ/cAWcnFceLmot61rZm+WZaO/574AAAACXBIWXMAABYlAAAWJQFJUiTwAAAANElEQVR4nAXBBwLAEBAAwSU4JKRpKf9/pxmUWYiWwKO/no898fr/rtt6Mfwoxp2COKFZwgQprAHd2JMMaAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:5}},71560:(e,t,a)=>{a.d(t,{_:()=>s,c:()=>r});let r=e=>{let t=new Date(e),a=new Date,r=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),s=new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()));return r.getTime()===s.getTime()},s=e=>{if(8!==e.length)throw Error("Date string must be 8 characters (YYYYMMDD)");let t=parseInt(e.substring(0,4));return new Date(t,parseInt(e.substring(4,6))-1,parseInt(e.substring(6,8)))}}}]);